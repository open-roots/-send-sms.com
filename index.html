<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Message Central SMS Gateway</title>
    <style>
        :root { --primary-color: #4F46E5; --primary-hover: #4338CA; --bg-color: #F3F4F6; --card-bg: #FFFFFF; --text-color: #1F2937; --border-color: #D1D5DB; }
        body { font-family: 'Segoe UI', sans-serif; background-color: var(--bg-color); color: var(--text-color); display: flex; justify-content: center; align-items: center; min-height: 100vh; margin: 0; padding: 20px; box-sizing: border-box; }
        .container { background-color: var(--card-bg); border-radius: 12px; box-shadow: 0 10px 25px rgba(0, 0, 0, 0.1); width: 100%; max-width: 500px; padding: 30px; }
        h2 { margin-top: 0; margin-bottom: 24px; text-align: center; font-size: 24px; color: var(--primary-color); }
        .form-group { margin-bottom: 16px; }
        label { display: block; font-weight: 600; margin-bottom: 6px; font-size: 14px; }
        input, select, textarea { width: 100%; padding: 10px 12px; border: 1px solid var(--border-color); border-radius: 6px; font-size: 14px; box-sizing: border-box; }
        button { width: 100%; background-color: var(--primary-color); color: white; border: none; padding: 12px; border-radius: 6px; font-size: 16px; font-weight: 600; cursor: pointer; margin-top: 10px; }
        button:hover { background-color: var(--primary-hover); }
        .response-area { margin-top: 20px; background-color: #1F2937; color: #10B981; padding: 15px; border-radius: 6px; font-family: monospace; font-size: 13px; white-space: pre-wrap; display: none; }
        .hidden { display: none !important; }
    </style>
</head>
<body>

    <div class="container">
        <h2>SMS Gateway</h2>
        
        <form id="smsForm">
            <div class="form-group">
                <label>API Service Type</label>
                <select id="apiType">
                    <option value="message">MessageNow (Standard SMS)</option>
                    <option value="verify">VerifyNow (OTP)</option>
                </select>
            </div>

            <div class="form-group" id="senderGroup">
                <label>Sender ID</label>
                <input type="text" id="senderId" placeholder="e.g., MSGCENT" value="MSGCENT">
            </div>

            <div class="form-group">
                <label>Phone Number</label>
                <input type="text" id="phone" placeholder="+1234567890" required>
            </div>

            <div class="form-group" id="messageGroup">
                <label>Message Content</label>
                <textarea id="message" placeholder="Enter your message here..."></textarea>
            </div>

            <button type="submit" id="sendBtn">Send SMS Now</button>
        </form>

        <div id="responseArea" class="response-area"></div>
    </div>

    <script>
        const apiTypeSelect = document.getElementById('apiType');
        const senderGroup = document.getElementById('senderGroup');
        const messageGroup = document.getElementById('messageGroup');
        const responseArea = document.getElementById('responseArea');

        // Your Hardcoded Token
        const MY_TOKEN = "eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJDLTk5NDIyOTdBQkQzQjQwRiIsImlhdCI6MTc3MTE5MTk1MiwiZXhwIjoxOTI4ODcxOTUyfQ.1uO3OU7au_N9-1T-OCt92f39VnmVF51md_5Fm6O81o-_qkB4kgjKj8HvXNXPe3nPU8yoxV-Rw5t0zhAtsNqz9w";

        apiTypeSelect.addEventListener('change', (e) => {
            if (e.target.value === 'message') {
                senderGroup.classList.remove('hidden');
                messageGroup.classList.remove('hidden');
            } else {
                senderGroup.classList.add('hidden');
                messageGroup.classList.add('hidden');
            }
        });

        document.getElementById('smsForm').addEventListener('submit', async (e) => {
            e.preventDefault();
            const btn = document.getElementById('sendBtn');
            btn.disabled = true;
            btn.textContent = 'Sending...';
            responseArea.style.display = 'block';
            responseArea.textContent = 'Connecting via Proxy...';

            const proxy = "https://cors-anywhere.herokuapp.com/";
            const apiType = apiTypeSelect.value;
            
            let endpoint, payload;

            if (apiType === 'message') {
                endpoint = "https://cpaas.messagecentral.com/message/v1/send";
                payload = {
                    "mobileNumber": document.getElementById('phone').value,
                    "senderId": document.getElementById('senderId').value,
                    "message": document.getElementById('message').value,
                    "type": "SMS",
                    "flowType": "SMS",
                    "messageType": "TRANSACTIONAL"
                };
            } else {
                endpoint = "https://api.messagecentral.com/verify/send";
                payload = {
                    "phone_number": document.getElementById('phone').value,
                    "channel": "sms"
                };
            }

            try {
                const response = await fetch(proxy + endpoint, {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                        'Authorization': `Bearer ${MY_TOKEN}`
                    },
                    body: JSON.stringify(payload)
                });

                const data = await response.json();
                responseArea.textContent = JSON.stringify(data, null, 2);
            } catch (error) {
                responseArea.textContent = "Error: Check your connection or visit https://cors-anywhere.herokuapp.com/corsdemo to enable the proxy.";
            } finally {
                btn.disabled = false;
                btn.textContent = 'Send SMS Now';
            }
        });
    </script>
</body>
</html>